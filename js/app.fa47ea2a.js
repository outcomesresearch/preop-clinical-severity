(function(e){function t(t){for(var i,o,s=t[0],l=t[1],c=t[2],u=0,p=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],i=!0,s=1;s<a.length;s++){var l=a[s];0!==n[l]&&(i=!1)}i&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var i={},n={app:0},r=[];function o(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=i,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(a,i,function(t){return e[t]}.bind(null,i));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/preop-clinical-severity/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"310c":function(e){e.exports=JSON.parse('{"0":{"opaque":[240,211,125,1],"alpha":[240,211,125,0.7]},"1":{"opaque":[237,185,147,1],"alpha":[237,185,147,0.7]},"2":{"opaque":[174,209,151,1],"alpha":[174,209,151,0.7]},"3":{"opaque":[152,174,217,1],"alpha":[152,174,217,0.7]},"-1":{"opaque":[255,255,255,1],"alpha":[255,255,255,0.7]}}')},"49d8":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var i=a("2b0e"),n=function(){var e=this,t=e._self._c;return t("outcomes-research-wrapper",{attrs:{_title:"Clinical Severity Applet"}},[t("outcomes-navbar"),t("div",{attrs:{id:"app"}},[t("div",{staticClass:"card"},[t("div",{staticClass:"grid overall-container"},[t("LeftPanel",{on:{"severity-calculated":t=>e.severity=t}}),t("div",[t("ResultsTop",{attrs:{severity:e.severity}}),t("Plot",{attrs:{severity:e.severity}})],1)],1)])]),t("outcomes-footer",{attrs:{copyright:e.copyright}})],1)},r=[],o=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"grid dropdown-layout"},e._l(e.dropdownOptions,(function(a){return t("dropdown-component",{key:a.id,attrs:{title:a.title,description:a.description,options:a.options},on:{change:t=>e.addToAnswers(a.id,t)}})})),1)])},s=[],l=a("7f2c"),c=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question-chunk"},[t("div",{staticClass:"grid dropdown-title"},[t("span",{staticClass:"title bold"},[e._v(e._s(e.title))]),t("span",{staticClass:"input",on:{change:t=>e.$emit("change",t)}},[t("select",[t("option",{attrs:{value:"incomplete",selected:"",disabled:""}},[e._v("Choose...")]),e._l(e.options,(function(a){return t("option",{key:a.id,domProps:{value:a.value}},[e._v(" "+e._s(a.displayValue)+" ")])}))],2)])]),t("div",{staticClass:"description italic",domProps:{innerHTML:e._s(e.description)}})])},d=[],u={name:"Dropdown",props:["description","options","title"]},p=u,v=(a("fea1"),a("2877")),f=Object(v["a"])(p,c,d,!1,null,"aff0593c",null),y=f.exports;let m={class:"alpha",number:0,day30:{value:5,ci:[1.7,11]},day90:{value:20,ci:[13,29]}},h={class:"beta",number:1,day30:{value:9,ci:[6,14]},day90:{value:26,ci:[21,32]}},b={class:"gamma",number:2,day30:{value:14,ci:[10,20]},day90:{value:32,ci:[26,39]}},g={class:"delta",number:3,day30:{value:21,ci:[13,32]},day90:{value:60,ci:[49,70]}},_={">=4METs":{"none/mild":{no:{"1or2":m,"3or4":h},yes:{"1or2":h,"3or4":b}},"mod/severe":{no:{"1or2":h,"3or4":b},yes:{"1or2":b,"3or4":g}}},"<4METs":{"none/mild":{no:{"1or2":h,"3or4":b},yes:{"1or2":b,"3or4":g}},"mod/severe":{no:{"1or2":b,"3or4":g},yes:{"1or2":b,"3or4":g}}}};var C=_,w={components:{DropdownComponent:y},name:"LeftPanel",data(){return{dropdownOptions:l,dropdownValues:l.map(()=>{})}},watch:{dropdownValues(e){if(e.every(e=>!!e)){const[t,a,i,n]=e,r=C[t][a][i][n];this.$emit("severity-calculated",r)}}},methods:{addToAnswers(e,t){this.$set(this.dropdownValues,e,t.target.value)}}},S=w,x=(a("ff41"),Object(v["a"])(S,o,s,!1,null,"553944ff",null)),O=x.exports,P=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"top-banner bold"},[e._v(" Clinical Severity Staging: "),e.severityDefined?t("span",{staticClass:"bold"},[e._v(e._s(e._f("titleCase")(e.severity.class)))]):e._e()]),t("div",{staticClass:"grid split top-bottom-spaced"},[t("div",{staticClass:"pane"},[t("div",{staticClass:"label bold"},[e._v("30-Day Unplanned Readmission Rate:")]),t("div",{staticClass:"top-bottom-spaced center",attrs:{id:"day30"}},[e.severityDefined?t("div",{staticClass:"grid number-container"},[t("span",{attrs:{id:"main"}},[e._v(e._s(e._f("percentage")(e.severity.day30.value)))]),t("span",{staticClass:"italic percentage-range",attrs:{id:"ci"}},[e._v("("+e._s(e._f("percentageRange")(e.severity.day30.ci))+")")])]):t("span",{staticClass:"placeholder",attrs:{id:"main"}},[e._v("N/A")])]),t("div",{staticClass:"description italic"},[e._v(" Numbers in parentheses represent 95% confidence interval. ")])]),t("div",{staticClass:"pane"},[t("div",{staticClass:"label bold"},[e._v("90-Day Complication Rate:")]),t("div",{staticClass:"top-bottom-spaced center",attrs:{id:"day90"}},[e.severityDefined?t("div",{staticClass:"grid number-container"},[t("span",{attrs:{id:"main"}},[e._v(e._s(e._f("percentage")(e.severity.day90.value)))]),t("span",{staticClass:"italic percentage-range",attrs:{id:"ci"}},[e._v("("+e._s(e._f("percentageRange")(e.severity.day90.ci))+")")])]):t("span",{staticClass:"placeholder",attrs:{id:"main"}},[e._v("N/A")])]),t("div",{staticClass:"description italic"},[e._v(" Numbers in parentheses represent 95% confidence interval. ")])])])])},j=[],N={name:"LeftPanel",props:["severity"],computed:{severityDefined(){return-1!==this.severity.number}}},k=N,M=(a("743c"),Object(v["a"])(k,P,j,!1,null,"cbb7275a",null)),T=M.exports,$=function(){var e=this;e._self._c;return e._m(0)},V=[function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"top-bottom-spaced bold"},[e._v("Overall Survival:")]),t("div",{attrs:{id:"chart"}})])}],L=a("2d5f"),D=a.n(L);function R(e,t){return t.map((t,a)=>0===a?"difference":t-e[a])}let A={"-1":[{max:100,min:0},["Survival"],["lowerbound"],["upperbound"],["difference"]],0:[{max:100,min:75},["Survival",97.5,94.3,94.3,90,90],["lowerbound",94.1,88.8,88.8,80.3,80.3],["upperbound",100,99.8,99.8,99.74,99.74]],1:[{max:100,min:50},["Survival",95.8,90,81.4,78.6,75],["lowerbound",93.1,85.6,74.7,71.1,65.1],["upperbound",98.5,94.3,88.1,86.1,84.9]],2:[{max:100,min:25},["Survival",86.8,72.4,64.2,60.2,60.2],["lowerbound",81.8,65.5,56.2,50.8,50.8],["upperbound",91.7,79.3,72.1,69.6,69.6]],3:[{max:100,min:0},["Survival",78.1,64.3,47.5,36.2,36.2],["lowerbound",68.4,52,32.6,18.3,18.3],["upperbound",87.7,76.6,62.4,54,54]]};A[0][4]=R(A[0][2],A[0][3]),A[1][4]=R(A[1][2],A[1][3]),A[2][4]=R(A[2][2],A[2][3]),A[3][4]=R(A[3][2],A[3][3]);var E=A,q=a("310c");const J=e=>e.toFixed(0)+"%",U=e=>[e[0].toUpperCase(),...e.slice(1)].join(""),F=e=>e.map(J).join(" to "),Y=e=>e>1?"s":"",z={difference:(e,t)=>{let a=E[e][2][t],i=E[e][3][t];return{displayName:"Confidence",value:F([a,i])}},Survival:(e,t,a)=>({displayName:"Survival",value:J(a)})};function W(e,t,a,i,n){let r=t[0].index+1,o=`${r} year${Y(r)}`,s=`<table class='${this.CLASS.tooltip}'>`;return s+=`<tr id='title'><th colspan='2'>${o}</th></tr>`,t.forEach(({name:t,value:a,id:i})=>{if("lowerbound"!==t){const t=[e,r,a],{displayName:o,value:l}=z[i](...t);s+=`<tr class='${this.CLASS.tooltipName}-${i}'>`,s+=`<td class='name'>\n      <span style='background-color:${n(i)}'></span>${o}</td>`,s+=`<td class='value'>${l}</td>`,s+="</tr>"}}),s+"</table>"}var H={padding:{left:30,bottom:-30},data:{type:"area-spline",types:{Survival:"spline"},groups:[["lowerbound","difference"]],order:null},color:{},tooltip:{},bar:{width:{ratio:5}},grid:{y:{show:!0}},axis:{x:{label:"Years",padding:{left:.2,right:.05},tick:{culling:!1,outer:!1,format:e=>e+1}},y:{label:"Survival (%)",padding:{top:0,bottom:0},tick:{count:6}}},legend:{hide:!0}},I={name:"LeftPanel",props:["severity"],data(){return{chart:void 0}},watch:{severity(){this.generatePlot(this.severity)}},methods:{generatePlot({number:e}){H.data.columns=[E[e][1],E[e][2],E[e][4]],H.color.pattern=[`rgba(${q[e].opaque})`,"rgb(0,0,0,0)","rgba("+q[e].alpha],H.axis.y.max=E[e][0].max,H.axis.y.min=E[e][0].min,H.tooltip.contents=function(...t){return W.bind(this,e,...t)},D.a.generate(H)}},mounted(){this.$nextTick(()=>{window.addEventListener("resize",()=>this.generatePlot(this.severity))}),this.generatePlot(this.severity)},beforeDestroy(){window.removeEventListener("resize",this.generatePlot)}},B=I,G=Object(v["a"])(B,$,V,!1,null,"65d4ece4",null),K=G.exports,Q={name:"App",components:{LeftPanel:O,ResultsTop:T,Plot:K},data(){return{copyright:"Copyright Â© 2022, Washington University School of Medicine, St. Louis, Missouri",severity:{number:-1}}}},X=Q,Z=(a("c552"),Object(v["a"])(X,n,r,!1,null,null,null)),ee=Z.exports,te=a("78e8");i["a"].use(te["a"]),i["a"].config.productionTip=!1,i["a"].filter("titleCase",U),i["a"].filter("percentage",J),i["a"].filter("percentageRange",F),new i["a"]({render:e=>e(ee)}).$mount("#app")},"743c":function(e,t,a){"use strict";a("49d8")},"7f2c":function(e){e.exports=JSON.parse('[{"id":0,"title":"Functional Status","description":"Can the patient climb 1 to 2 flights of stairs without stopping, or walk brisky on level ground without feeling short of breath?","options":[{"value":">=4METs","displayValue":"Yes"},{"value":"<4METs","displayValue":"No"}]},{"id":1,"title":"Comorbidity","description":"Identify the important medical comorbidities and grade severity using the <a href=\'http://otooutcomes.wustl.edu/Research/Research-Focus/Cancer/Comorbidity-Calculator\' target=\'_blank\'>Comorbidity Calculator</a>","options":[{"value":"none/mild","displayValue":"0 = None"},{"value":"none/mild","displayValue":"1 = Mild"},{"value":"mod/severe","displayValue":"2 = Moderate"},{"value":"mod/severe","displayValue":"3 = Severe"}]},{"id":2,"title":"Pre-Op Weight Loss","description":"Over the past 3 months, did the patient experience unintentional weight loss?","options":[{"value":"no","displayValue":"No"},{"value":"yes","displayValue":"Yes"}]},{"id":3,"title":"TNM Stage","description":"Please use the AJCC version 7 Pathology Staging System.","options":[{"value":"1or2","displayValue":"1 or 2"},{"value":"3or4","displayValue":"3 or 4"}]}]')},"8c3e":function(e,t,a){},"91dc":function(e,t,a){},b934:function(e,t,a){},c552:function(e,t,a){"use strict";a("8c3e")},e3b7:function(e,t,a){var i={"./Shared.css":"a48d","./apple-touch-icon.png":"9fd3","./favicon-32x32.png":"1584","./logo.svg":"0a5a"};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=r,e.exports=n,n.id="e3b7"},fea1:function(e,t,a){"use strict";a("91dc")},ff41:function(e,t,a){"use strict";a("b934")}});
//# sourceMappingURL=app.fa47ea2a.js.map